(this["webpackJsonpreign-test"]=this["webpackJsonpreign-test"]||[]).push([[0],{25:function(n,e,t){"use strict";t.r(e);var r,i,o,a,c=t(1),s=t.n(c),l=t(12),d=t.n(l),u=t(4),f=t(3),b=t(2),j=t(13),m="(min-width: 1024px)",g=Object(b.createGlobalStyle)(r||(r=Object(f.a)(["\n    ",'\n\n    *,\n    *::before,\n    *::after {\n        box-sizing: border-box;\n    }\n\n    #root, html, body {\n        height: 100vh;\n    }\n\n    html {\n        font-size: 16px;\n\t    scroll-behavior: smooth;\n    }\n\n    p,\n    h1,\n    label {\n        display: inline-block;\n        margin: 0;\n    }\n    \n    body {\n        background: #fcfcfc;\n        font-family: Roboto;\n        font-size: 14px;\n        line-height: 1.57;\n        color: rgba(0, 0, 0, 0.65);\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        text-rendering: optimizeLegibility;\n        font-feature-settings: "kern" 1;\n        font-kerning: normal;\n    }\n\n    p {\n        line-height: 1.43;\n        letter-spacing: 0.25px;\n        color: #6b6b6b;\n    }\n\n    b {\n        font-weight: 500;\n    }\n\n    h1 {\n        font-family: Baskerville;\n        font-size: 28px;\n        font-weight: normal;\n        line-height: 1;\n        color: #3b3b3b;\n    }\n\n    label {\n        font-size: 11px;\n        color: #767676;\n    }\n\n    select {\n        min-width: 15rem;\n        padding: 0.25rem 0.75rem;\n        border-radius: 4px;\n        border: solid 1px #2e2e2e;\n        background-color: #ffffff;\n        color: #343434;\n    }\n\n    select:hover {\n        cursor: pointer;\n    }\n\n    select:focus {\n        outline: none;\n    }\n\n    button {\n        padding: 3px 39px 0 40px;\n        background: #fcfcfc;\n        border: solid 1px #d6d6d6;\n        font-size: 16px;\n        font-weight: 500;\n        line-height: 1.75;\n        text-align: center;\n        color: #6a6a6a;\n        will-change: opacity;\n        transition: 0.15s ease-in-out;\n    }\n\n    button:hover {\n        cursor: pointer;\n    }\n'])),j.normalize),h=t(8),p=t(17),x=t(0),O=b.default.article(i||(i=Object(f.a)(["\n    overflow: hidden;\n    min-height: 6.5rem;\n    max-width: 40rem;\n    border-radius: 6px;\n    border: solid 1px #979797;\n    background-color: #ffffff;\n    text-align: left;\n    display: grid;\n    align-items: center;\n    grid-template-columns: 1fr auto;\n    transition: 0.15s ease-in-out;\n    will-change: opacity;\n\n    &:hover {\n        cursor: pointer;\n        opacity: 0.7;\n    }\n\n    @media "," {\n        max-width: 35rem;\n    }\n"])),m),v=b.default.a(o||(o=Object(f.a)(["\n    text-decoration: none;\n    padding: 1rem 1.5rem;\n    display: grid;\n    gap: 0.5rem;\n\n    label {\n        pointer-events: none;\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n    }\n"]))),y=b.default.div(a||(a=Object(f.a)(["\n    height: 100%;\n    padding: 1rem 1.5rem;\n    background-color: #f5f5f5;\n    display: flex;\n    align-items: center;\n\n    img {\n        height: 1.5rem;\n        transition: 0.15s ease-in-out;\n    }\n\n    &:hover {\n        cursor: pointer;\n\n        img {\n            transform: scale(1.1);\n        }\n    }\n"])));var w,k,_,I,S=function(n){var e=n.ref,t=n.data,r=n.favorite,i=n.onFav,o=[{unit:"year",ms:31536e6},{unit:"month",ms:2628e6},{unit:"day",ms:864e5},{unit:"hour",ms:36e5},{unit:"minute",ms:6e4},{unit:"second",ms:1e3}];function a(n){var e,t=Object(p.a)(o);try{for(t.s();!(e=t.n()).done;){var r=e.value,i=r.unit,a=r.ms;if(Math.abs(n)>=a||"second"===i)return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.round(n/a),i)}}catch(c){t.e(c)}finally{t.f()}return""}return Object(x.jsx)(x.Fragment,{children:t.created_at&&t.author&&t.story_title&&t.story_url&&Object(x.jsxs)(O,{ref:e,children:[Object(x.jsxs)(v,{href:t.story_url,target:"_blank",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("img",{src:"img/iconmonstr-time-2.svg",alt:""}),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if(!n)return"";var t=n.getTime()-e.getTime();return a(t)}(new Date(t.created_at))," ","by ",t.author]}),Object(x.jsx)("p",{children:Object(x.jsx)("b",{children:t.story_title})})]}),Object(x.jsx)(y,{onClick:i,children:Object(x.jsx)("img",{src:r?"img/iconmonstr-favorite-3.svg":"img/iconmonstr-favorite-2.svg",alt:"favorite"})})]})})},D=b.default.section(w||(w=Object(f.a)(["\n    position: relative;\n    padding: 1.25rem 5vw;\n    display: grid;\n    align-content: start;\n    justify-content: center;\n    gap: 2rem;\n    transition: 0.15s ease-in-out;\n\n    ",";\n\n    @media "," {\n        grid-template-columns: auto auto;\n    }\n"])),(function(n){return n.favView&&Object(b.css)(k||(k=Object(f.a)(["\n            padding: 5.5rem 5vw;\n        "])))}),m),F=b.default.div(_||(_=Object(f.a)(["\n    width: 90vw;\n    max-width: 40rem;\n    padding-bottom: 0.5rem;\n\n    @media "," {\n        grid-column-end: span 2;\n        max-width: 70rem;\n    }\n"])),m),z=b.default.div(I||(I=Object(f.a)(["\n    @keyframes loading {\n        0% {\n            opacity: 0.5;\n        }\n        50% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0.5;\n        }\n    }\n\n    padding: 2rem 0;\n    text-align: center;\n    animation-name: loading;\n    animation-duration: 2s;\n    animation-iteration-count: infinite;\n\n    @media "," {\n        grid-column-end: span 2;\n    }\n"])),m);var C,E,J,M,N,R=function(n){var e=n.favView,t=Object(c.useState)(localStorage.getItem("query")||"reactjs"),r=Object(u.a)(t,2),i=r[0],o=r[1],a=Object(c.useState)(0),s=Object(u.a)(a,2),l=s[0],d=s[1],f=Object(c.useState)([{created_at:"",author:"",objectID:0,story_title:"",story_url:""}]),b=Object(u.a)(f,2),j=b[0],m=b[1],g=Object(c.useState)(JSON.parse(localStorage.getItem("favorites")||JSON.stringify([{created_at:"",author:"",objectID:0,story_title:"",story_url:""}]))),p=Object(u.a)(g,2),O=p[0],v=p[1],y=Object(c.useRef)(null),w=Object(c.useCallback)((function(){fetch("https://hn.algolia.com/api/v1/search_by_date?query=".concat(i,"&page=").concat(l)).then((function(n){return n.json()})).then((function(n){m((function(e){return[].concat(Object(h.a)(e),Object(h.a)(n.hits.filter((function(e,t){return n.hits.findIndex((function(n){return n.story_title===e.story_title}))===t}))))})),d((function(n){return n+1}))})).catch((function(n){console.error(n)}))}),[i,l]),k=Object(c.useCallback)((function(n){n[0].isIntersecting&&w()}),[w]),_=function(n){O.some((function(e){return e.objectID===n.objectID}))?v(O.filter((function(e){return e.objectID!==n.objectID}))):v([].concat(Object(h.a)(O),[n]))};return Object(c.useEffect)((function(){localStorage.setItem("query",i),m([{created_at:"",author:"",objectID:0,story_title:"",story_url:""}]),d(0)}),[i]),Object(c.useEffect)((function(){y.current&&new IntersectionObserver(k,{root:null,rootMargin:"20px",threshold:0}).observe(y.current)}),[k]),Object(c.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(O))}),[O]),Object(x.jsx)(D,{favView:e,children:e?Object(x.jsx)(x.Fragment,{children:O[0]?O.sort((function(n,e){return e.created_at.localeCompare(n.created_at)})).map((function(n){return Object(x.jsx)(S,{data:n,favorite:!0,onFav:function(){return _(n)}},n.objectID)})):Object(x.jsx)("div",{children:"No faves yet."})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(F,{children:Object(x.jsxs)("select",{value:i,onChange:function(n){n.persist(),o(n.target.value)},children:[Object(x.jsx)("option",{value:"angular",children:"Angular"}),Object(x.jsx)("option",{value:"reactjs",children:"Reactjs"}),Object(x.jsx)("option",{value:"vuejs",children:"Vuejs"})]})}),j.map((function(n,e){return Object(x.jsx)(S,{data:n,favorite:!!O.some((function(e){return e.objectID===n.objectID})),onFav:function(){return _(n)}},e)})),Object(x.jsx)(z,{ref:y,children:"Loading..."})]})})},T=b.default.main(C||(C=Object(f.a)(["\n    width: 100vw;\n    height: 100vh;\n    overflow-y: scroll;\n"]))),V=b.default.nav(E||(E=Object(f.a)(["\n    position: sticky;\n    top: 0;\n    z-index: 100;\n    width: 100%;\n    padding: 2.75rem 5vw;\n    margin-bottom: 1.5rem;\n    box-shadow: 0 1px 4px 0 rgba(0, 21, 41, 0.12);\n    background-image: linear-gradient(to bottom, #ececec -32%, #ffffff 124%);\n    text-align: center;\n\n    h1 {\n        text-align: left;\n        width: 100%;\n        max-width: 40rem;\n\n        @media "," {\n            max-width: 72rem;\n        }\n    }\n"])),m),L=b.default.div(J||(J=Object(f.a)(["\n    position: sticky;\n    top: 6rem;\n    z-index: 110;\n    width: 100%;\n    padding: 2.75rem 0;\n    text-align: center;\n\n    @media "," {\n        top: 0;\n    }\n"])),m),q=b.default.button(M||(M=Object(f.a)(["\n    ",";\n\n    &:first-child {\n        border-radius: 2px 0 0 2px;\n        border-right: none;\n    }\n\n    &:last-child {\n        border-radius: 0 2px 2px 0;\n    }\n"])),(function(n){return n.active&&Object(b.css)(N||(N=Object(f.a)(["\n            border: solid 1px #1797ff;\n            color: #1797ff;\n        "])))}));var A=function(){var n=Object(c.useState)(!1),e=Object(u.a)(n,2),t=e[0],r=e[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsxs)(T,{children:[Object(x.jsx)(V,{children:Object(x.jsx)("h1",{children:"HACKER NEWS"})}),Object(x.jsxs)(L,{children:[Object(x.jsx)(q,{type:"button",active:!t,onClick:function(){return r(!1)},children:"All"}),Object(x.jsx)(q,{type:"button",active:t,onClick:function(){return r(!0)},children:"My faves"})]}),Object(x.jsx)(R,{favView:t})]})]})},B=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,26)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;t(n),r(n),i(n),o(n),a(n)}))};d.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root")),B()}},[[25,1,2]]]);
//# sourceMappingURL=main.084ed190.chunk.js.map